{% with messages = get_flashed_messages()%}
{% if messages %}
{% for msg in messages %}
<p>{{msg}}</p>
{% endfor %}
{%endif%}
{% endwith %}

<div class="container col-md-3 justify-content-center">
  {{ pagination.info }}
  {{ pagination.links }}
</div>

<a href="{{ url_for('login', page=request.args.get('page')) }}"><button class="btn btn-info btn-lg">Create Class</button></a>
<p class="display-4">Classes statistic</p>
<p class="lead">see your class performance</p>
<table class="table table-striped  table-hover table-sm" cellspacing="0" width="100%">
  <thead class="thead-dark lead">
    <!-- Table top rows -->
    <tr>
      <th scope="col">#</th>
      <th scope="col">Class ID</th>
      <th scope="col">Section Name</th>
      <th scope="col">Class Code</th>
      <th scope="col">Category</th>
    </tr>
  </thead>
  <tbody>

    {% for row in data %}
    <tr class="">
      <form action="/analytics/check" method="GET">
        <th scope="row">{{ loop.index + pagination.skip }}</th>
        <th scope="row">{{row.classId}}</th>
        <td>{{row.sectionName}}</td>
        <!-- Get class code into the form  -->
        <!-- The input cannot be disables -->
        <td >{{row.classCode}}<input type="hidden" name="ccode" value={{row.classCode}}></td> 
        <td>
          <div class="form-group">
            <select name="category" id="category" class="form-control" required>
              <option>Instructor</option>
              <option>Teaching-style</option>
              <option>Topic</option>
              <option>Other</option>
            </select>
          </div>
          <button class="btn btn-block btn-dark" type="submit">Check</button>

        </td>
      </form>
    </tr>
    {% endfor %}
  </tbody>
</table>
<div class="container col-md-3 justify-content-center">
  {{ pagination.links }}
</div>
